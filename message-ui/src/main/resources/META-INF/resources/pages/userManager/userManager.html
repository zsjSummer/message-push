<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>用户管理</title>

	<!-- 引入样式 -->
	<link rel="stylesheet" href="../../libs/element-ui/index.css">
	<link rel="stylesheet" href="./userManager.css">
</head>
<body>

<div id="userManagerPage">
	<div id="buttonGroup">
		<el-button-group>
			<el-button type="primary" icon="plus" @click="dialog.dialogVisible = true">新增</el-button>
			<el-button type="primary" icon="edit" @click="dialog.dialogVisiblePwd = true">密码修改</el-button>
			<el-button type="primary" icon="delete" @click="deleteUser()">删除</el-button>
		</el-button-group>
	</div>

	<div id="tableArea">
		<el-table :data="tableData" stripe style="width: 600px">
			<el-table-column type="selection" width="55"> </el-table-column>
			<el-table-column prop="id" label="用户ID" align="center" width="180"></el-table-column>
			<el-table-column prop="userName" label="用户名" align="center" width="180"></el-table-column>
			<el-table-column prop="createTime" align="center" label="创建时间"></el-table-column>
		</el-table>
	</div>

	<div id="editFormArea">
		<el-dialog title="新增" :visible.sync="dialog.dialogVisible" width="20%">
			<el-form ref="addForm" :model="dialog.addForm">
				<el-form-item label="" prop="name">
					<el-input v-model="dialog.addForm.name" placeholder="用户名（用户名新增后不可修改）"
							  prefix-icon="edit"></el-input>
				</el-form-item>
				<el-form-item label="" prop="password">
					<el-input v-model="dialog.addForm.password" placeholder="密码" type="password"
							  prefix-icon="edit"></el-input>
				</el-form-item>
				<el-form-item label="" prop="confirmPwd">
					<el-input v-model="dialog.addForm.confirmPwd" placeholder="确认密码" type="password"
							  prefix-icon="edit"></el-input>
				</el-form-item>
				<div style="text-align: center;">
					<el-button type="primary" @click="addUser('addForm')" icon="check">保存</el-button>
					<el-button icon="close" @click="cancleFn('addForm')">取消</el-button>
				</div>
			</el-form>
		</el-dialog>
		<el-dialog title="密码修改" :visible.sync="dialog.dialogVisiblePwd" width="20%" >
			<el-form ref="pwdForm" :model="dialog.pwdForm">
				<el-form-item label="" prop="oldPwd">
					<el-input v-model="dialog.pwdForm.oldPwd" placeholder="原密码" type="password"
							  prefix-icon="edit"></el-input>
				</el-form-item>
				<el-form-item label="" prop="password">
					<el-input v-model="dialog.pwdForm.password" placeholder="密码" type="password"
							  prefix-icon="edit"></el-input>
				</el-form-item>
				<el-form-item label="" prop="confirmPwd">
					<el-input v-model="dialog.pwdForm.confirmPwd" placeholder="确认密码" type="password"
							  prefix-icon="edit"></el-input>
				</el-form-item>
				<div style="text-align: center;">
					<el-button type="primary" @click="pwdModify('pwdForm')" icon="check">保存</el-button>
					<el-button icon="close" @click="cancleFn('pwdForm')">取消</el-button>
				</div>
			</el-form>
		</el-dialog>
	</div>

</div>

<!-- import Jquery.js -->
<script src="../../libs/jquery/jquery.js"></script>
<!-- import Vue before Element -->
<script src="../../libs/vue/vue-2.5.13.js"></script>
<!-- import JavaScript -->
<script src="../../libs/element-ui/index.js"></script>
<!-- import rsa加密 -->
<script src="../../libs/rsa/jsencrypt.js"></script>
<!-- import 路由相关 -->
<script src="../../custom/common/route/route-table.js"></script>
<script src="../../custom/common/route/router.js"></script>
<!-- import userManager.js -->
<script src="./userManager.js"></script>

</body>
</html>